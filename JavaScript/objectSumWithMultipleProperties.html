<html>
<head></head>
<body>
    <script type="application/javascript">
    
    var arr =[

        {"shape":"square","color":"red","used":1,"instances":1},
        {"shape":"square","color":"red","used":2,"instances":1},
        {"shape":"circle","color":"blue","used":0,"instances":0},
        {"shape":"square","color":"blue","used":4,"instances":4},
        {"shape":"circle","color":"red","used":1,"instances":1},
        {"shape":"circle","color":"red","used":1,"instances":0},
        {"shape":"square","color":"blue","used":4,"instances":5},
        {"shape":"square","color":"red","used":2,"instances":1}
    ]   

    var result = Object.values(arr.reduce(function(accumalator, currentValue){
        var key = currentValue.shape + '|' + currentValue.color;
        if (!accumalator[key]) accumalator[key] = currentValue;
    
        else {
            accumalator[key].used += currentValue.used;
            accumalator[key].instances += currentValue.instances
        }
        return accumalator;
    },{}));

    console.log(result);
        
        
        /***
        * Finding max value
        **/
        
        var objArr = [
           {key:"Ram", age:40, val:42},
           {key:"Sam", age:40, val:78},
           {key:"Ram", age:30, val:23},
           {key:"Madhu",age:40,  val:54},
           {key:"Madhu",age:40,  val:26}
        ]

         var result = Object.values(objArr.reduce(function(accumalator, currentValue){
                var key = currentValue.key + '_' + currentValue.age ;
                if (!accumalator[key]) accumalator[key] = currentValue;

                else {
                    accumalator[key].val += currentValue.val;
                }
                return accumalator;
        },{}));
        
        //Finding max value object
        var max = result.reduce(function(prev, current) { return (prev.val > current.val) ? prev : current; });
        console.log(max);

    </script>
</body>
</html>
